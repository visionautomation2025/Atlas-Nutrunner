<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Barcode & Tightening System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Intro Screen -->
    <div id="intro-screen" class="screen active">
        <div class="intro-container">
            <div class="logo-section">
                <div class="logo-icon">üîß</div>
                <h1>Automated Barcode & Tightening System</h1>
                <h2>Powered by Atlas Copco Power Focus Controller</h2>
            </div>
            
            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="step-icon">üì±</div>
                    <span>Scan</span>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-icon">üì¶</div>
                    <span>Place</span>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-icon">‚ö°</div>
                    <span>Tighten</span>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-icon">‚úÖ</div>
                    <span>Result</span>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-icon">üîÑ</div>
                    <span>Next Cycle</span>
                </div>
            </div>
            
            <button id="start-demo" class="start-button">Start Demo</button>
        </div>
    </div>

    <!-- Main Demo Screen -->
    <div id="demo-screen" class="screen">
        <div class="demo-header">
            <h1>Automated Barcode & Tightening System</h1>
            <div class="progress-indicator">
                <span id="step-counter">Step 1 of 6</span>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
            </div>
        </div>

        <div class="demo-container">
            <!-- Step 1: Scan Barcode -->
            <div id="step-1" class="demo-step active">
                <div class="step-header">
                    <h2>Step 1: Scan Barcode</h2>
                    <div class="step-status" id="step1-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="scanner-section">
                        <div class="scanner-animation">
                            <div class="scanner-beam"></div>
                            <div class="barcode-display">
                                <div class="barcode-lines"></div>
                                <div class="barcode-text">Ready to scan...</div>
                            </div>
                        </div>
                        
                        <div class="scan-controls">
                            <button id="scan-button" class="action-button">üì± Scan Barcode</button>
                            <button id="invalid-scan" class="action-button secondary">‚ùå Simulate Invalid Scan</button>
                        </div>
                        
                        <div id="scan-result" class="result-display"></div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Place Component -->
            <div id="step-2" class="demo-step">
                <div class="step-header">
                    <h2>Step 2: Place Component</h2>
                    <div class="step-status" id="step2-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="component-section">
                        <div class="component-area">
                            <div class="component-placeholder">
                                <div class="component-icon">üì¶</div>
                                <span>Place Component Here</span>
                            </div>
                        </div>
                        
                        <div class="sensor-status">
                            <div class="sensor-item">
                                <span class="sensor-label">Part Sensor:</span>
                                <span id="part-sensor" class="sensor-value">‚ùå Not Detected</span>
                            </div>
                        </div>
                        
                        <button id="place-component" class="action-button">üì¶ Place Component</button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Press Cycle Start -->
            <div id="step-3" class="demo-step">
                <div class="step-header">
                    <h2>Step 3: Press Cycle Start</h2>
                    <div class="step-status" id="step3-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="cycle-section">
                        <div class="cylinder-animation">
                            <h3 class="cylinder-title">Part Clamp Cylinder</h3>
                            <div class="cylinder">
                                <div id="cylinder-piston" class="cylinder-piston"></div>
                            </div>
                            <div class="cylinder-status">
                                <span id="cylinder-status">Retracted</span>
                            </div>
                        </div>
                        
                        <div class="reed-switch">
                            <div class="reed-indicator" id="reed-indicator">üî¥</div>
                            <span>Forward Reed Switch</span>
                        </div>
                        
                        <div class="cycle-prompt">
                            <span class="blink-message">Press Cycle Start</span>
                        </div>
                        
                        <button id="cycle-start" class="action-button large">Press Cycle Start</button>
                    </div>
                </div>
            </div>

            <!-- Step 4: Tightening Process -->
            <div id="step-4" class="demo-step">
                <div class="step-header">
                    <h2>Step 4: Tightening Process</h2>
                    <div class="step-status" id="step4-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="tightening-section">
                        <div class="tightening-layout">
                            <div class="chart-side">
                                <div class="chart-container">
                                    <canvas id="torque-chart"></canvas>
                                </div>
                            </div>
                            
                            <div class="metrics-side">
                                <div class="current-metrics">
                                    <h3>Current Values</h3>
                                    <div class="metric">
                                        <span class="metric-label">Current Torque:</span>
                                        <span id="current-torque" class="metric-value">0.0 Nm</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Current Angle:</span>
                                        <span id="current-angle" class="metric-value">0¬∞</span>
                                    </div>
                                </div>
                                
                                <div class="target-metrics">
                                    <h3>Target Values</h3>
                                    <div class="metric">
                                        <span class="metric-label">Target Torque:</span>
                                        <span class="metric-value">25.0 Nm</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Target Angle:</span>
                                        <span class="metric-value">90¬∞</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="tightening-result" class="result-display"></div>
                    </div>
                </div>
            </div>

            <!-- Step 5: Pass Sequence -->
            <div id="step-5" class="demo-step">
                <div class="step-header">
                    <h2>Step 5: Pass Sequence</h2>
                    <div class="step-status" id="step5-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="pass-section">
                        <div class="pass-banner">
                            <div class="pass-icon">‚úÖ</div>
                            <h3>PASS</h3>
                            <p>Component meets all specifications</p>
                        </div>
                        
                        <div class="cylinder-animation">
                            <div class="cylinder">
                                <div id="pass-cylinder-piston" class="cylinder-piston"></div>
                            </div>
                            <div class="cylinder-status">
                                <span id="pass-cylinder-status">Retracting...</span>
                            </div>
                        </div>
                        
                        <div class="action-prompt">
                            <p>‚úÖ Remove Component</p>
                        </div>
                        
                        <button id="remove-component" class="action-button">üì¶ Remove Component</button>
                    </div>
                </div>
            </div>

            <!-- Step 6: Fail Sequence -->
            <div id="step-6" class="demo-step">
                <div class="step-header">
                    <h2>Step 6: Fail Sequence</h2>
                    <div class="step-status" id="step6-status">‚è≥ Waiting...</div>
                </div>
                
                <div class="step-content">
                    <div class="fail-section">
                        <div class="fail-banner">
                            <div class="fail-icon">‚ùå</div>
                            <h3>FAIL</h3>
                            <p>Component does not meet specifications</p>
                        </div>
                        
                        <div class="fail-sequence">
                            <!-- Dynamic Status Bar -->
                            <div class="status-bar">
                                <div class="status-message" id="fail-status-message">
                                    <span id="fail-status-text">‚è≥ Starting fail sequence...</span>
                                </div>
                            </div>
                            
                            <!-- Rejection Bin Section (initially hidden) -->
                            <div class="rejection-section" id="rejection-section" style="display: none;">
                                <div class="rejection-bin">
                                    <div class="bin-icon">üóëÔ∏è</div>
                                    <span>Rejection Bin</span>
                                </div>
                                
                                <div class="sensor-status">
                                    <div class="sensor-item">
                                        <span class="sensor-label">Rejection Bin Sensor:</span>
                                        <span id="rejection-sensor" class="sensor-value">‚ùå Not Triggered</span>
                                    </div>
                                </div>
                                
                                <button id="move-to-rejection" class="action-button">üì¶ Move to Rejection Bin</button>
                            </div>
                            
                            <!-- Password Section -->
                            <div id="password-section" class="password-section hidden">
                                <div class="password-prompt">
                                    <p>üîí Enter Password to Reactivate Tool</p>
                                    <p class="password-hint">Password: <strong>1234</strong></p>
                                    <input type="password" id="password-input" placeholder="Enter password" maxlength="4">
                                    <button id="submit-password" class="action-button">üîì Submit</button>
                                </div>
                            </div>
                        </div>
                        
                        <div id="password-section" class="password-section hidden">
                            <div class="password-prompt">
                                <p>üîí Enter Password to Reactivate Tool</p>
                                <p class="password-hint">Password: <strong>1234</strong></p>
                                <input type="password" id="password-input" placeholder="Enter password" maxlength="4">
                                <button id="submit-password" class="action-button">üîì Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Report -->
        <div id="summary-report" class="summary-report hidden">
            <div class="summary-header">
                <h3>Cycle Summary Report</h3>
                <button id="close-summary" class="close-button">√ó</button>
            </div>
            <div class="summary-content">
                <div class="summary-item">
                    <span class="summary-label">Barcode:</span>
                    <span id="summary-barcode" class="summary-value">-</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Final Torque:</span>
                    <span id="summary-torque" class="summary-value">-</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Final Angle:</span>
                    <span id="summary-angle" class="summary-value">-</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Result:</span>
                    <span id="summary-result" class="summary-value">-</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Cycle Time:</span>
                    <span id="summary-time" class="summary-value">-</span>
                </div>
            </div>
            <button id="restart-cycle" class="action-button">üîÑ Start New Cycle</button>
        </div>

        <!-- Navigation -->
        <div class="demo-navigation">
            <button id="prev-step" class="nav-button" disabled>‚Üê Previous</button>
            <button id="next-step" class="nav-button" disabled>Next ‚Üí</button>
        </div>
    </div>

    <!-- Pass/Fail Selection Modal -->
    <div id="pass-fail-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Simulation Selection</h3>
            </div>
            <div class="modal-body">
                <p>Do you want to simulate a Pass or Fail outcome?</p>
                <div class="simulation-buttons">
                    <button id="simulate-pass" class="action-button success">‚úÖ Simulate Pass</button>
                    <button id="simulate-fail" class="action-button danger">‚ùå Simulate Fail</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="scan-sound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT">
    </audio>
    <audio id="pass-sound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT">
    </audio>
    <audio id="fail-sound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT">
    </audio>

    <script src="script.js"></script>
</body>
</html> 